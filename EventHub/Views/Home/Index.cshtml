@{
    ViewData["Title"] = "EventHub - Find & Book Amazing Events";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section Styles {
    <!-- Home Page Specific CSS -->
    <link rel="stylesheet" href="~/css/home-index.css" asp-append-version="true" />
}

<!-- Hero Section -->
<section class="hero-section">
    <div class="hero-overlay"></div>
    <div class="container">
        <div class="row align-items-center min-vh-75">
            <div class="col-lg-6">
                <div class="hero-content">
                    <h1 class="hero-title">Discover Amazing <span class="gradient-text">Events</span> Near You</h1>
                    <p class="hero-subtitle">
                        From concerts to conferences, find and book tickets for the best events in Sri Lanka.
                        Create unforgettable memories with EventHub.
                    </p>
                    <div class="hero-buttons">
                        <a href="@Url.Action("Index", "Event")" class="btn btn-hero-primary">
                            <i class="bi bi-search me-2"></i>Explore Events
                        </a>
                        <a href="@Url.Action("Register", "Account")" class="btn btn-hero-secondary">
                            <i class="bi bi-person-plus me-2"></i>Get Started
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="hero-image">
                    <img src="~/images/hero-events.jpg" alt="Amazing Events" class="img-fluid rounded-4 shadow-lg">
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Search Section -->
<section class="search-section py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="search-card">
                    <h3 class="search-title text-center mb-4">Find Your Perfect Event</h3>
                    <form class="search-form" asp-controller="Event" asp-action="Index" method="get">
                        <div class="row g-3">
                            <div class="col-md-4">
                                <div class="search-field">
                                    <label class="form-label">
                                        <i class="bi bi-grid-3x3-gap me-2"></i>Category
                                    </label>
                                    <select class="form-select" id="searchCategory" name="category">
                                        <option value="">All Categories</option>
                                        <option value="music">Music</option>
                                        <option value="sports">Sports</option>
                                        <option value="arts">Arts & Culture</option>
                                        <option value="business">Business</option>
                                        <option value="technology">Technology</option>
                                        <option value="food">Food & Drink</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="search-field">
                                    <label class="form-label">
                                        <i class="bi bi-geo-alt me-2"></i>Location
                                    </label>
                                    <select class="form-select" id="searchLocation" name="location">
                                        <option value="">All Locations</option>
                                        <option value="Colombo">Colombo</option>
                                        <option value="Kandy">Kandy</option>
                                        <option value="Galle">Galle</option>
                                        <option value="Jaffna">Jaffna</option>
                                        <option value="Negombo">Negombo</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="search-field">
                                    <label class="form-label">
                                        <i class="bi bi-calendar me-2"></i>Date
                                    </label>
                                    <input type="date" class="form-control" id="searchDate" name="date">
                                </div>
                            </div>
                        </div>
                        <div class="text-center mt-4">
                            <button type="submit" class="btn btn-search">
                                <i class="bi bi-search me-2"></i>Search Events
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="stats-section py-5">
    <div class="container">
        <div class="row g-4">
            <div class="col-lg-3 col-md-6">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="bi bi-calendar-event"></i>
                    </div>
                    <div class="stat-number">@ViewBag.TotalEvents+</div>
                    <p class="stat-label">Live Events</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="bi bi-people"></i>
                    </div>
                    <div class="stat-number">@ViewBag.TotalUsers+</div>
                    <p class="stat-label">Happy Users</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="bi bi-ticket-perforated"></i>
                    </div>
                    <div class="stat-number">@ViewBag.TotalBookings+</div>
                    <p class="stat-label">Tickets Sold</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="bi bi-star"></i>
                    </div>
                    <div class="stat-number">@ViewBag.TotalOrganizers+</div>
                    <p class="stat-label">Organizers</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Events Section -->
<section class="featured-events py-5">
    <div class="container">
        <div class="row mb-5">
            <div class="col-12 text-center">
                <h2 class="section-title">Featured Events</h2>
                <p class="section-subtitle">Don't miss these amazing upcoming events</p>
            </div>
        </div>

        <div class="row g-4">
            @if (ViewBag.FeaturedEvents != null && ((IEnumerable<dynamic>)ViewBag.FeaturedEvents).Any())
            {
                @foreach (var eventItem in ViewBag.FeaturedEvents)
                {
                    <div class="col-lg-4 col-md-6">
                        <div class="event-card">
                            <div class="event-image">
                                @if (!string.IsNullOrEmpty(eventItem.ImageUrl))
                                {
                                    <img src="@eventItem.ImageUrl" alt="@eventItem.Title">
                                }
                                else
                                {
                                    <img src="~/images/events/default-event.jpg" alt="@eventItem.Title">
                                }
                                <div class="event-badge">@eventItem.Category</div>
                                <div class="event-date">
                                    <span class="date-month">@(((DateTime)eventItem.Date).ToString("MMM"))</span>
                                    <span class="date-day">@(((DateTime)eventItem.Date).ToString("dd"))</span>
                                </div>
                            </div>
                            <div class="event-content">
                                <h3 class="event-title">@eventItem.Title</h3>
                                <div class="event-details">
                                    <div class="detail-item">
                                        <i class="bi bi-clock"></i>
                                        <span>@(((DateTime)eventItem.Date).ToString("MMM dd")) · @eventItem.Time</span>
                                    </div>
                                    <div class="detail-item">
                                        <i class="bi bi-geo-alt"></i>
                                        <span>@eventItem.VenueName</span>
                                    </div>
                                    <div class="detail-item">
                                        <i class="bi bi-ticket"></i>
                                        <span>@eventItem.AvailableTickets tickets left</span>
                                    </div>
                                    <div class="detail-item">
                                        <i class="bi bi-currency-dollar"></i>
                                        <span>From Rs. @eventItem.TicketPrice.ToString("N0")</span>
                                    </div>
                                </div>
                                <a href="@Url.Action("Details", "Event", new { id = eventItem.EventID })" class="btn btn-event">View Details</a>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="col-12 text-center py-5">
                    <i class="bi bi-calendar-x display-1 text-muted"></i>
                    <h3 class="mt-3">No Events Available</h3>
                    <p class="text-muted">Check back later for exciting events!</p>
                </div>
            }
        </div>

        <div class="row mt-5">
            <div class="col-12 text-center">
                <a href="@Url.Action("Index", "Event")" class="btn btn-view-all">
                    <i class="bi bi-arrow-right me-2"></i>View All Events
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Role Navigation Section -->
<section class="role-section py-5">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="section-title">Join Our Community</h2>
                <p class="section-subtitle">Choose your role and start your journey with EventHub</p>
            </div>
        </div>
        <div class="row g-4">
            <!-- Customer Role -->
            <div class="col-lg-6 col-md-6">
                <div class="role-card">
                    <div class="role-icon">
                        <i class="bi bi-person-heart"></i>
                    </div>
                    <h3 class="role-title">Event Goers</h3>
                    <p class="role-description">
                        Discover and book tickets for amazing events. Get exclusive deals
                        and never miss your favorite events.
                    </p>
                    <ul class="role-features">
                        <li><i class="bi bi-check-circle"></i> Easy event discovery</li>
                        <li><i class="bi bi-check-circle"></i> Secure online booking</li>
                        <li><i class="bi bi-check-circle"></i> Digital tickets with QR codes</li>
                        <li><i class="bi bi-check-circle"></i> Exclusive discounts</li>
                    </ul>
                    <a href="@Url.Action("Register", "Account", new { role = "customer" })" class="btn btn-role">Join as Customer</a>
                </div>
            </div>

            <!-- Organizer Role -->
            <div class="col-lg-6 col-md-6">
                <div class="role-card featured">
                    <div class="featured-badge">Popular</div>
                    <div class="role-icon">
                        <i class="bi bi-megaphone"></i>
                    </div>
                    <h3 class="role-title">Event Organizers</h3>
                    <p class="role-description">
                        Create and manage your events with powerful tools. Reach thousands
                        of potential attendees effortlessly.
                    </p>
                    <ul class="role-features">
                        <li><i class="bi bi-check-circle"></i> Easy event creation</li>
                        <li><i class="bi bi-check-circle"></i> Real-time sales tracking</li>
                        <li><i class="bi bi-check-circle"></i> QR code ticket validation</li>
                        <li><i class="bi bi-check-circle"></i> Detailed analytics</li>
                    </ul>
                    <a href="@Url.Action("Register", "Account", new { role = "organizer" })" class="btn btn-role">Join as Organizer</a>
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <!-- Home Page Specific JavaScript -->
    <script src="~/js/home-index.js" asp-append-version="true"></script>
}